<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Calendar</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Calendar.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption" class="empty">&nbsp;</p></div><div id="content"><div id="module-header"><p class="caption">Calendar</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Calendar types
</a></li><li><a href="#g:2">Helper functions
</a></li><li><a href="#g:3">Calendar instances
</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Copyright 2011 Netrium Ltd. All rights reserved.
</p><p>Module for calendars
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:DayType">DayType</a> = String</li><li class="src short"><span class="keyword">type</span> <a href="#t:CalendarPeriod">CalendarPeriod</a> = (<a href="Common.html#t:DateTime">DateTime</a>, <a href="Common.html#t:DateTime">DateTime</a>, <a href="Calendar.html#t:DayType">DayType</a>)</li><li class="src short"><span class="keyword">type</span> <a href="#t:Calendar">Calendar</a> = (String, [<a href="Calendar.html#t:CalendarPeriod">CalendarPeriod</a>])</li><li class="src short"><span class="keyword">type</span> <a href="#t:CalendarOffsetTime">CalendarOffsetTime</a> = (String, Int, <a href="Calendar.html#t:DayType">DayType</a>, (Int, Int))</li><li class="src short"><a href="#v:numTypeDays">numTypeDays</a> :: <a href="Calendar.html#t:Calendar">Calendar</a> -&gt; <a href="Common.html#t:DateTime">DateTime</a> -&gt; <a href="Common.html#t:DateTime">DateTime</a> -&gt; String -&gt; Int</li><li class="src short"><a href="#v:dayInRange">dayInRange</a> :: <a href="Calendar.html#t:CalendarPeriod">CalendarPeriod</a> -&gt; <a href="Common.html#t:DateTime">DateTime</a> -&gt; <a href="Common.html#t:DateTime">DateTime</a> -&gt; Bool</li><li class="src short"><a href="#v:calDaysOffset">calDaysOffset</a> :: <a href="Calendar.html#t:Calendar">Calendar</a> -&gt; <a href="Common.html#t:DateTime">DateTime</a> -&gt; String -&gt; Int -&gt; <a href="Common.html#t:DateTime">DateTime</a></li><li class="src short"><a href="#v:getSubCalendarByDayType">getSubCalendarByDayType</a> :: <a href="Calendar.html#t:Calendar">Calendar</a> -&gt; String -&gt; String -&gt; <a href="Calendar.html#t:Calendar">Calendar</a></li><li class="src short"><a href="#v:getSubCalendarByDate">getSubCalendarByDate</a> :: <a href="Calendar.html#t:Calendar">Calendar</a> -&gt; <a href="Common.html#t:DateTime">DateTime</a> -&gt; Char -&gt; String -&gt; <a href="Calendar.html#t:Calendar">Calendar</a></li><li class="src short"><a href="#v:businessDaysOffset">businessDaysOffset</a> :: String -&gt; <a href="Common.html#t:DateTime">DateTime</a> -&gt; Int -&gt; <a href="Common.html#t:DateTime">DateTime</a></li><li class="src short"><a href="#v:calendarDaysOffset">calendarDaysOffset</a> :: String -&gt; <a href="Common.html#t:DateTime">DateTime</a> -&gt; Int -&gt; <a href="Common.html#t:DateTime">DateTime</a></li><li class="src short"><a href="#v:getCalendar">getCalendar</a> :: String -&gt; <a href="Calendar.html#t:Calendar">Calendar</a></li></ul></div><div id="interface"><h1 id="g:1">Calendar types
</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:DayType" class="def">DayType</a> = String</p><div class="doc"><p>Day types
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:CalendarPeriod" class="def">CalendarPeriod</a> = (<a href="Common.html#t:DateTime">DateTime</a>, <a href="Common.html#t:DateTime">DateTime</a>, <a href="Calendar.html#t:DayType">DayType</a>)</p><div class="doc"><p>A calendar period
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Calendar" class="def">Calendar</a> = (String, [<a href="Calendar.html#t:CalendarPeriod">CalendarPeriod</a>])</p><div class="doc"><p>Define a calendar as a set of calendar days and a name
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:CalendarOffsetTime" class="def">CalendarOffsetTime</a> = (String, Int, <a href="Calendar.html#t:DayType">DayType</a>, (Int, Int))</p><div class="doc"><p>Define a calendar offset time as an offset to apply according to a given calendar at a given time
</p><p>For instance (&quot;EEX Power&quot;, -3, &quot;DB&quot;, (15, 00)) will apply an offset of -3 business days according to the EEX Power calendar and return this date at 3PM
</p></div></div><h1 id="g:2">Helper functions
</h1><div class="top"><p class="src"><a name="v:numTypeDays" class="def">numTypeDays</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Calendar.html#t:Calendar">Calendar</a></td><td class="doc"><p>Reference calendar
</p></td></tr><tr><td class="src">-&gt; <a href="Common.html#t:DateTime">DateTime</a></td><td class="doc"><p>Start datetime for search range
</p></td></tr><tr><td class="src">-&gt; <a href="Common.html#t:DateTime">DateTime</a></td><td class="doc"><p>End datetime for search range
</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>Type of day
</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Returns the number of days of a given type (e.g. business days) between 2 dates for a given calendar
</p></div></div><div class="top"><p class="src"><a name="v:dayInRange" class="def">dayInRange</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Calendar.html#t:CalendarPeriod">CalendarPeriod</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Common.html#t:DateTime">DateTime</a></td><td class="doc"><p>Start datetime for search range
</p></td></tr><tr><td class="src">-&gt; <a href="Common.html#t:DateTime">DateTime</a></td><td class="doc"><p>End datetime for search range
</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Returns true if a given calendar period is within a given date range
</p></div></div><div class="top"><p class="src"><a name="v:calDaysOffset" class="def">calDaysOffset</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Calendar.html#t:Calendar">Calendar</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Common.html#t:DateTime">DateTime</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>Type of day
</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Number of days to offset
</p></td></tr><tr><td class="src">-&gt; <a href="Common.html#t:DateTime">DateTime</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Returns a date which is a given number of days of a given type earlier according to a given calendar
 or Nothing if there is no such date
</p></div></div><div class="top"><p class="src"><a name="v:getSubCalendarByDayType" class="def">getSubCalendarByDayType</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Calendar.html#t:Calendar">Calendar</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>Type of day
</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>Name of sub-calendar
</p></td></tr><tr><td class="src">-&gt; <a href="Calendar.html#t:Calendar">Calendar</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Get a sub-calendar from a calendar and a given day type (e.g. EEX business day calendar)
</p></div></div><div class="top"><p class="src"><a name="v:getSubCalendarByDate" class="def">getSubCalendarByDate</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Calendar.html#t:Calendar">Calendar</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Common.html#t:DateTime">DateTime</a></td><td class="doc"><p>Reference date
</p></td></tr><tr><td class="src">-&gt; Char</td><td class="doc"><p>G for greater than, L for lower than, E for equal
</p></td></tr><tr><td class="src">-&gt; String</td><td class="doc"><p>Name of sub-calendar
</p></td></tr><tr><td class="src">-&gt; <a href="Calendar.html#t:Calendar">Calendar</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Get a sub-calendar from a calendar and a given reference date (e.g. all days prior to 30<em>04</em>2011)
</p></div></div><div class="top"><p class="src"><a name="v:businessDaysOffset" class="def">businessDaysOffset</a> :: String -&gt; <a href="Common.html#t:DateTime">DateTime</a> -&gt; Int -&gt; <a href="Common.html#t:DateTime">DateTime</a></p><div class="doc"><p>Returns a date n business days prior to a given date according to a given calendar
</p></div></div><div class="top"><p class="src"><a name="v:calendarDaysOffset" class="def">calendarDaysOffset</a> :: String -&gt; <a href="Common.html#t:DateTime">DateTime</a> -&gt; Int -&gt; <a href="Common.html#t:DateTime">DateTime</a></p><div class="doc"><p>Returns a date n calendar days prior to a given date according to a given calendar
</p><p>TODO: make this work!
</p></div></div><h1 id="g:3">Calendar instances
</h1><div class="top"><p class="src"><a name="v:getCalendar" class="def">getCalendar</a> :: String -&gt; <a href="Calendar.html#t:Calendar">Calendar</a></p><div class="doc"><p>Get a given calendar. For now, calendars are manually populated here.
 Ideally this will done using a service and parsed here.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.9.2</p></div></body></html>